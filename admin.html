<!DOCTYPE html>  <html lang="ar" dir="rtl">  
  <head>  
    <meta charset="UTF-8" />  
    <title>لوحة تحكم الأدمن | Am Rewards</title>  
    <meta name="viewport" content="width=device-width, initial-scale=1" />  
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>  
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>  
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>  
    <style>  
      body {  
        font-family: "Tajawal", sans-serif;  
        background: #f4f4f4;  
        padding: 20px;  
        text-align: center;  
      }  
      h1 {  
        color: #333;  
      }  
      .box {  
        background: white;  
        border-radius: 12px;  
        padding: 20px;  
        margin: 10px auto;  
        box-shadow: 0 0 10px rgba(0,0,0,0.1);  
        max-width: 400px;  
      }  
    </style>  
  </head>  
  <body>  
    <h1>لوحة تحكم الأدمن</h1>  <div class="box">  
  <p id="totalUsers">عدد المستخدمين: ...</p>  
  <p id="totalTasks">عدد المهام المنفذة: ...</p>  
  <p id="totalWithdrawals">عدد عمليات السحب: ...</p>  
  <p id="totalWithdrawnAmount">المبلغ الإجمالي المسحوب: ... EGP</p>  
  <p id="totalProfitAfterWithdraw">صافي الأرباح: ... EGP</p>  
</div>  

<script>  
  const firebaseConfig = {  
    apiKey: "AIzaSyD6J9mFOVmWEbdTRFVEC97Z6XGKTiCjGkA",  
    authDomain: "am--rewards.firebaseapp.com",  
    databaseURL: "https://am--rewards-default-rtdb.firebaseio.com",  
    projectId: "am--rewards",  
    storageBucket: "am--rewards.appspot.com",  
    messagingSenderId: "181721478269",  
    appId: "1:181721478269:web:2d2d97f8f164ca0a0c13f0"  
  };  

  firebase.initializeApp(firebaseConfig);  
  const db = firebase.database();  

  // تحميل عدد المستخدمين  
  db.ref("users").once("value", (snapshot) => {  
    const users = snapshot.val();  
    const count = users ? Object.keys(users).length : 0;  
    document.getElementById("totalUsers").innerText = `عدد المستخدمين: ${count}`;  
  });  

  // تحميل عدد المهام  
  db.ref("taskCompletions").once("value", (snapshot) => {  
    const tasks = snapshot.val();  
    let taskCount = 0;  
    if (tasks) {  
      for (let userId in tasks) {  
        taskCount += Object.keys(tasks[userId]).length;  
      }  
    }  
    document.getElementById("totalTasks").innerText = `عدد المهام المنفذة: ${taskCount}`;  
  });  

  // تحميل القيم المضافة من Firebase  
  db.ref("siteStats").once("value", (snapshot) => {  
    const stats = snapshot.val();  
    document.getElementById("totalWithdrawals").innerText =  
      `عدد عمليات السحب: ${stats?.totalWithdrawals || 0}`;  
    document.getElementById("totalWithdrawnAmount").innerText =  
      `المبلغ الإجمالي المسحوب: ${stats?.totalWithdrawnAmount || 0} EGP`;  
    document.getElementById("totalProfitAfterWithdraw").innerText =  
      `صافي الأرباح: ${stats?.totalProfitAfterWithdraw || 0} EGP`;  
  });  
</script>

  </body>  
</html>
