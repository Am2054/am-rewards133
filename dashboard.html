<!DOCTYPE html>  <html lang="ar" dir="rtl">  
<head>  
  <meta charset="UTF-8" />  
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Am Rewards</title>  
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <style>  
    body {  
      margin: 0;  
      font-family: 'Cairo', sans-serif;  
      background: linear-gradient(to bottom right, #4caf50, #1b5e20);  
      color: white;  
      direction: rtl;  
      display: flex;  
      justify-content: center;  
      align-items: center;  
      height: 100vh;  
      padding: 20px;  
      transition: background 0.4s ease, color 0.4s ease;  
    }  .container {  
  background-color: rgba(0, 0, 0, 0.4);  
  padding: 40px 30px;  
  border-radius: 20px;  
  max-width: 420px;  
  width: 100%;  
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);  
  text-align: center;  
}  

.heart {  
  font-size: 40px;  
  color: #ffcccb;  
  animation: beat 1s infinite alternate;  
}  

@keyframes beat {  
  to { transform: scale(1.1); }  
}  

h1 {  
  font-size: 28px;  
  margin-bottom: 10px;  
}  

.info {  
  background-color: rgba(255, 255, 255, 0.1);  
  padding: 15px;  
  border-radius: 12px;  
  margin: 15px 0;  
  font-size: 18px;  
  line-height: 1.8;  
}  

.info strong {  
  color: #a5d6a7;  
  font-size: 20px;  
}  

.links a {  
  display: block;  
  background-color: #81c784;  
  color: #1b5e20;  
  font-weight: 700;  
  margin: 10px 0;  
  padding: 12px;  
  border-radius: 10px;  
  text-decoration: none;  
  font-size: 17px;  
}  

.links a.referral { background-color: #ffd54f; color: #5d4037; }  
.links a.about    { background-color: #ce93d8; color: #4a148c; }  
.links a.terms    { background-color: #b0bec5; color: #263238; }  
.links a.contact  { background-color: #ff7043; color: white; font-weight: 700; }  

button.logout {  
  margin-top: 20px;  
  background-color: #d32f2f;  
  border: none;  
  color: white;  
  font-size: 16px;  
  padding: 12px 25px;  
  border-radius: 10px;  
  cursor: pointer;  
}  

#egp-rate {  
  margin-top: 10px;  
  font-size: 16px;  
  color: #d1ffd1;  
}  

.mode-toggle {  
  position: absolute;  
  top: 15px;  
  left: 15px;  
  background: #222;  
  color: #fff;  
  padding: 8px 16px;  
  border-radius: 8px;  
  font-weight: bold;  
  cursor: pointer;  
}  

.quick-task {  
  background-color: #00bcd4;  
  color: white;  
  font-weight: bold;  
  padding: 12px;  
  margin-top: 10px;  
  border: none;  
  border-radius: 10px;  
  cursor: pointer;  
  font-size: 16px;  
}  

.dark-mode {  
  background: #121212;  
  color: #eee;  
}  

.dark-mode .container {  
  background-color: rgba(255, 255, 255, 0.05);  
}  

.dark-mode .links a {  
  background-color: #333;  
  color: #eee;  
}  

.dark-mode .links a.contact {  
  background-color: #e91e63;  
}  

.dark-mode .info strong {  
  color: #4caf50;  
}

  </style>  
</head>  
<body>  
  <div class="mode-toggle" onclick="toggleDarkMode()">ğŸŒ“ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</div>    <div class="container">  
    <div class="heart">â¤ï¸</div>  
    <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ <span id="user-email">...</span></h1>  
    <div id="egp-rate">Ø¬Ø§Ø±Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­...</div>  <div class="info">  
  <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‚Ø§Ø·: <strong id="total-points">0</strong> Ù†Ù‚Ø·Ø©</p>  
  <p>Ù…Ø§ ÙŠØ¹Ø§Ø¯Ù„: <strong id="total-egp">0</strong> Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ</p>  
  <p>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø³Ø­ÙˆØ¨: <strong id="withdrawn-egp">0</strong> Ø¬Ù†ÙŠÙ‡</p>  
  <p>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ: <strong id="current-egp">0</strong> Ø¬Ù†ÙŠÙ‡</p>  
</div>  

<button class="quick-task" onclick="window.location.href='tasks.html'">ğŸ¯ Ù†ÙØ° Ù…Ù‡Ù…Ø© Ø§Ù„Ø¢Ù†</button>  

<div class="links">  
  <a href="tasks.html">ğŸ“ Ø§Ù„Ù…Ù‡Ø§Ù…</a>  
  <a href="withdraw.html">ğŸ’¸ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</a>  
  <a href="referrals.html" class="referral">ğŸ‘¥ Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª</a>  
  <a href="about.html" class="about">â„¹ï¸ Ù…Ù† Ù†Ø­Ù†</a>  
  <a href="terms.html" class="terms">ğŸ“œ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a>  
  <a href="contact.html" class="contact">ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>  
</div>  

<button class="logout" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>

  </div>    <!-- Firebase -->    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>    <script>  
    const firebaseConfig = {  
      apiKey: "AIzaSyBfOJPkWbmcJ6s29bDNysr-H0Kx-Js3Gy0",  
      authDomain: "am--rewards.firebaseapp.com",  
      projectId: "am--rewards",  
    };  
  
    firebase.initializeApp(firebaseConfig);  
    const auth = firebase.auth();  
    const db = firebase.firestore();  
    const POINT_VALUE_EGP = 0.07;  
    let exchangeRate = 50;  
  
    async function fetchDollarRate() {  
      try {  
        const res = await fetch("https://api.exchangerate-api.com/v4/latest/USD");  
        const data = await res.json();  
        exchangeRate = data.rates.EGP || 50;  
        document.getElementById("egp-rate").textContent = `ğŸ’± 1 Ø¯ÙˆÙ„Ø§Ø± = ${exchangeRate.toFixed(2)} Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ`;  
      } catch (e) {  
        document.getElementById("egp-rate").textContent = "âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø³Ø¹Ø± Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±";  
      }  
    }  
  
    async function updateBalance() {  
      const user = auth.currentUser;  
      if (!user) {  
        alert("ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹.");  
        window.location.href = "index.html";  
        return;  
      }  
  
      document.getElementById("user-email").textContent = user.email;  
  
      await fetchDollarRate();  
  
      const doc = await db.collection("users").doc(user.uid).get();  
      const data = doc.data() || {};  
  
      const totalPoints = data.points || 0;  
      const withdrawnPoints = data.withdrawnPoints || 0;  
  
      const totalEGP = totalPoints * POINT_VALUE_EGP;  
      const withdrawnEGP = withdrawnPoints * POINT_VALUE_EGP;  
      const currentEGP = totalEGP - withdrawnEGP;  
  
      document.getElementById("total-points").textContent = totalPoints;  
      document.getElementById("total-egp").textContent = totalEGP.toFixed(2);  
      document.getElementById("withdrawn-egp").textContent = withdrawnEGP.toFixed(2);  
      document.getElementById("current-egp").textContent = currentEGP.toFixed(2);  
    }  
  
    auth.onAuthStateChanged(() => {  
      updateBalance();  
    });  
  
    function logout() {  
      auth.signOut().then(() => {  
        window.location.href = "index.html";  
      });  
    }  
  
    function toggleDarkMode() {  
      document.body.classList.toggle("dark-mode");  
    }  
  
    setInterval(fetchDollarRate, 60000); // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©  
  </script>  </body>  
</html>
