<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>سحب الأرباح | Am Rewards</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #f2f2f2;
      padding: 20px;
      direction: rtl;
    }
    .container {
      max-width: 400px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, button, select {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      background-color: #28a745;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background-color: #218838;
    }
    .note {
      font-size: 14px;
      color: #555;
      margin-top: 10px;
    }
    .summary {
      margin-top: 15px;
      padding: 10px;
      background-color: #f8f9fa;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>طلب سحب الأرباح</h2>

    <label>اختر وسيلة الدفع:</label>
    <select id="method">
      <option value="vodafone">فودافون كاش</option>
      <option value="paypal">PayPal</option>
    </select>

    <label>أدخل رقم الهاتف / الإيميل:</label>
    <input type="text" id="account" placeholder="مثال: 01012345678 أو example@email.com" />

    <label>أدخل المبلغ بالجنيه (20 إلى 200):</label>
    <input type="number" id="amount" min="20" max="200" placeholder="مثال: 50" oninput="calculateDetails()" />

    <div class="summary" id="summaryBox" style="display:none;"></div>

    <button onclick="submitRequest()">طلب سحب</button>

    <p class="note">💡 سيتم خصم <b>10%</b> من قيمة السحب كمصاريف تحويل.<br/>
    ✔️ قيمة النقطة = <b>0.07 جنيه</b>.<br/>
    ⛔ السحب يبدأ من <b>20</b> جنيه وحتى <b>200</b> جنيه يومياً.</p>
  </div>

  <script>
    function calculateDetails() {
      const amount = parseFloat(document.getElementById('amount').value);
      if (!amount || amount < 20 || amount > 200) {
        document.getElementById('summaryBox').style.display = "none";
        return;
      }

      const fee = amount * 0.10;
      const received = amount - fee;
      const requiredPoints = Math.ceil(amount / 0.07);

      document.getElementById('summaryBox').style.display = "block";
      document.getElementById('summaryBox').innerHTML = `
        ✅ سيتم خصم <b>${fee.toFixed(2)} جنيه</b><br/>
        💰 ستحصل على <b>${received.toFixed(2)} جنيه</b><br/>
        🔢 عدد النقاط المطلوبة: <b>${requiredPoints} نقطة</b>
      `;
    }

    function submitRequest() {
      const method = document.getElementById('method').value;
      const account = document.getElementById('account').value.trim();
      const amount = parseFloat(document.getElementById('amount').value);

      if (!account || !amount || amount < 20 || amount > 200) {
        alert("❌ الرجاء ملء جميع البيانات بشكل صحيح.");
        return;
      }

      const confirmMsg = `هل أنت متأكد من طلب سحب ${amount} جنيه؟\nسيتم خصم 10% كمصاريف تحويل.`;
      if (!confirm(confirmMsg)) return;

      // 👇 هنا تضع كود إرسال الطلب إلى Firebase أو قاعدة البيانات
      alert("✅ تم إرسال طلب السحب بنجاح وسيتم مراجعته قريباً.");
    }
  </script>
</body>
</html>
