<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ - Am Rewards</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <style>
    /* -------------------------------------------
     * CSS Style: (Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª) 
     * ------------------------------------------- */
    :root{  
      --main-gradient: linear-gradient(135deg, #1e3c72 0%, #2a5298 60%, #38bdf8 100%);  
      --glass-bg: rgba(255,255,255,0.13);  
      --glass-border: rgba(56,189,248,0.18);  
      --input-bg: rgba(30,41,59,0.74);  
      --input-focus: #38bdf8;  
      --input-border: #334155;  
      --error: #f87171;  
      --success: #22c55e;  
      --muted: #a5f3fc;  
      --radius: 28px;  
      --shadow: 0 8px 32px 0 rgba(2,6,23,0.22);  
      --gold: #FFD369;  
      --gold-dark: #bfa243;  
    }  
    *{box-sizing:border-box}
    html, body {  
      height: 100%;  
      margin: 0;  
      padding: 0;  
      font-family: "Cairo", "Montserrat", sans-serif;  
      color: #f1f6fb;  
      direction: rtl;  
      background: var(--main-gradient), url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80');  
      background-size: cover;  
      background-attachment: fixed;  
      background-blend-mode: overlay;  
      overflow-y: auto !important;  
      scroll-behavior: smooth;  
    }  
    body {  
      min-height: 100vh;  
      display: block;  
    }  
    .bg-glass {  
      position: fixed;  
      inset: 0;  
      z-index: 0;  
      pointer-events: none;  
      background: radial-gradient(circle at 65% 17%, rgba(56,189,248,0.14) 0%, transparent 90%),  
                  radial-gradient(circle at 25% 80%, rgba(34,197,94,0.16) 0%, transparent 80%);  
      filter: blur(28px) saturate(1.3);  
      animation: floatGlass 16s ease-in-out infinite alternate;  
    }  
    @keyframes floatGlass {  
      0% { background-position: 65% 17%, 25% 80%;}  
      100% { background-position: 55% 27%, 20% 95%;}  
    }  
    .center-box {  
      width: 100%;  
      max-width: 420px;  
      margin: 56px auto 56px auto;  
      padding: 38px 18px 30px 18px;  
      border-radius: var(--radius);  
      background: var(--glass-bg);  
      box-shadow: var(--shadow), 0 6px 32px 0 #0008;  
      border: 2px solid var(--glass-border);  
      z-index: 2;  
      position: relative;  
      backdrop-filter: blur(20px) saturate(120%);  
      display: flex;  
      flex-direction: column;  
      align-items: center;  
    }  
    h2 {  
      margin-bottom: 20px;  
      font-family: "Montserrat", "Cairo", sans-serif;  
      font-size: 1.7rem;  
      font-weight: 900;  
      letter-spacing: 1.1px;  
      text-shadow: 0 0 10px #38bdf8a2;  
      color: #38bdf8;  
    }  
    .subtitle {  
      color: var(--muted);  
      font-size: 1rem;  
      margin-bottom: 19px;  
      font-weight: 700;  
      text-shadow: 0 0 4px #38bdf8a1;  
      letter-spacing: 0.5px;  
    }  
    .gold-name {  
      display: block;  
      background: var(--gold);  
      color: var(--gold-dark);  
      padding: 10px 17px 8px 17px;  
      min-width: 120px;  
      border-radius: 12px;  
      font-size: 1.08rem;  
      font-family: "Montserrat","Cairo",sans-serif;  
      font-weight: 900;  
      margin: 0 auto 18px auto;  
      text-align: center;  
      box-shadow: 0 4px 10px #FFD36944, 0 2px 8px #0002;  
      letter-spacing: 1.1px;  
      border: 2px solid #bfa24333;  
      user-select: none;  
    }  
    .form-view { 
      width: 100%; 
      transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out; /* ğŸ†• ØªØ­Ø³ÙŠÙ† Ø³Ù„Ø§Ø³Ø© Ø§Ù„Ø­Ø±ÙƒØ© */
      opacity: 1;
      transform: scale(1);
    }  
    .form-view.fade-out { /* ğŸ†• ÙØ¦Ø© Ù„Ù„Ø¥Ø®ÙØ§Ø¡ */
        opacity: 0;
        transform: scale(0.95);
        height: 0; /* Ù„Ø¥Ø²Ø§Ù„Ø© Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø®ØªÙÙŠ Ù…Ø¤Ù‚ØªØ§ */
        overflow: hidden;
    }
    .form-view.hidden-display { /* ğŸ†• ÙØ¦Ø© Ù„Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ */
        display: none;
    }

    .form-row {  
      margin-bottom: 18px;  
      text-align: right;  
      position: relative;  
    }  
    /* ... Ø¨Ø§Ù‚ÙŠ ØªÙ†Ø³ÙŠÙ‚Ø§Øª CSS Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± ... */
    
    label {  
      font-size: 1.08rem;  
      color: var(--muted);  
      margin-bottom: 6px;  
      display: block;  
      font-weight: 700;  
    }  
    input[type="text"], input[type="email"], input[type="password"], input[type="tel"] {  
      width: 100%;  
      padding: 16px 17px;  
      border-radius: 15px;  
      border: 2px solid var(--input-border);  
      background: var(--input-bg);  
      color: #fff;  
      font-size: 1.11rem;  
      font-family: "Cairo",sans-serif;  
      transition: box-shadow .18s, border-color .18s, transform .12s;  
      outline: none;  
      font-weight: 600;  
      margin-top: 2px;  
      box-sizing: border-box;  
    }  
    input:focus {  
      border-color: var(--input-focus);  
      box-shadow: 0 0 12px #38bdf8a6;  
      background: #1e293b;  
    }  
    .password-eye {  
      position: absolute;  
      left: 14px;  
      top: 50%;  
      transform: translateY(-50%);  
      background: none;  
      border: none;  
      cursor: pointer;  
      font-size: 1.35em;  
      color: #38bdf8;  
      opacity: 0.82;  
      z-index: 3;  
      transition: color .17s, opacity .14s;  
      padding: 0;  
      margin: 0;  
      line-height: 1;  
      outline: none;  
      display: flex;  
      align-items: center;  
      height: 28px;  
      width: 28px;  
      justify-content: center;  
    }  
    .password-eye svg {  
      width: 23px;  
      height: 23px;  
      display: block;  
    }  
    .password-eye:active,  
    .password-eye:focus { opacity: 1; color: var(--gold); }  
    .password-eye:hover { color: #FFD369; opacity: 1; }  
    button {  
      width: 100%;  
      padding: 14px 0;  
      border-radius: 15px;  
      font-size: 1.07rem;  
      font-weight: 900;  
      font-family: "Montserrat","Cairo",sans-serif;  
      letter-spacing: 0.7px;  
      cursor: pointer;  
      border: none;  
      transition: .17s;  
      margin-bottom: 14px;  
      box-shadow: 0 3px 18px rgba(56,189,248,0.10);  
    }  
    .login-btn {  
      background: linear-gradient(90deg,#FFD369 0%,#bfa243 100%);  
      color: #2e2300;  
      font-weight: 900;  
      letter-spacing: 1.2px;  
      border: 2px solid #bfa24366;  
    }  
    .login-btn:hover {  
      background: linear-gradient(90deg,#bfa243 0%,#FFD369 100%);  
      color: #fff;  
    }  
    .signup-btn {  
      background: linear-gradient(90deg,#fb8500 0%,#ffb703 100%);  
      color: #23272f;  
      font-weight: 900;  
    }  
    .signup-btn:hover { background: linear-gradient(90deg,#ffb703,#fb8500); color: #fff; }  
    .switcher, .forgot {  
      background: none;  
      border: none;  
      color: var(--muted);  
      font-size: 1rem;  
      margin-bottom: 2px;  
      text-decoration: underline;  
      cursor: pointer;  
      transition: color .13s;  
      font-weight: 700;  
    }  
    .switcher:hover { color: #38bdf8; }  
    /* ØªÙ… Ø­Ø°Ù ØªÙ†Ø³ÙŠÙ‚ .forgot */  
    .message {  
      min-height: 36px;  
      padding: 12px 0 7px 0;  
      margin-bottom: 13px;  
      border-radius: 11px;  
      font-size: 1.05rem;  
      font-weight: bold;  
      box-shadow: 0 2px 12px #0002;  
      transition: .14s;  
      background: #fff;  
      color: #2e2300;  
      text-shadow: none;  
      border: 2px solid #FFD369;  
      opacity: 1;  
      display: block;  
      text-align: center;  
      position: relative;  
    }  
    .message .site-name {  
      display: block;  
      font-family: "Montserrat","Cairo",sans-serif;  
      font-size: 1.13em;  
      font-weight: 900;  
      color: var(--gold);  
      margin-bottom: 3px;  
      letter-spacing: 1.1px;  
      text-shadow: 0 0 7px #FFD36977;  
    }  
    .error {  
      background: #ffeaea !important;  
      color: #c00 !important;  
      border-color: #ff6b6b;  
    }  
    .success {  
      background: #e7ffea !important;  
      color: #049c3f !important;  
      border-color: #22c55e;  
    }  
    .footer {  
      margin-top: 16px;  
      font-size: .99rem;  
      color: #94a3b8;  
      opacity: 0.9;  
      font-weight: 500;  
      text-align: center;  
    }  
    @media (max-width: 600px) {  
      .center-box {  
        padding: 8px 1vw 8px 1vw;  
        border-radius: 14px;  
        max-width: 97vw;  
      }  
      h2 { font-size: 1.1rem; }  
      .subtitle { font-size: .93rem; }  
      .footer { font-size: .83rem; }  
      input, button { font-size: .93rem; }  
      .form-row { margin-bottom: 9px; }  
      .gold-name { font-size: .97rem; }  
      .message { font-size: .93rem; }  
      label { font-size: .91rem; }  
    }  

    /* --- Modal Styles (Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±) --- */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease-in-out;
    }
    .modal-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }
    .modal-content {
      background: #1e293b;
      border: 1.5px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 30px;
      width: 90%;
      max-width: 650px;
      max-height: 85vh;
      overflow-y: auto;
      transform: scale(0.9);
      transition: transform 0.2s ease-in-out;
    }
    .modal-overlay.open .modal-content {
      transform: scale(1);
    }
    .modal-content h1 {
      font-size: 24px;
      color: var(--input-focus);
      margin-top: 0;
    }
    .modal-content ul {
      list-style: none;
      padding: 0;
      margin: 15px 0;
    }
    .modal-content li {
      font-size: 15px;
      line-height: 1.6;
      margin-bottom: 10px;
      position: relative;
      padding-right: 18px;
      color: var(--muted);
    }
    .modal-content li::before {
      content: 'âœ“';
      position: absolute;
      right: 0;
      color: var(--gold);
      font-weight: 900;
      font-size: 17px;
    }
    .modal-content .note {
      margin-top: 20px;
      padding: 10px;
      background: rgba(255, 211, 105, 0.1);
      border-radius: 8px;
      font-size: 14px;
      color: var(--gold);
      text-align: center;
    }
    .modal-close {
      float: left;
      background: var(--error);
      color: white;
      border: none;
      padding: 8px 18px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      margin-top: 20px;
      transition: background 0.15s;
    }
    .modal-close:hover {
      background: #d64a4a;
    }
  </style>  
</head>
<body>
  <div class="bg-glass" aria-hidden="true"></div>
  <div class="center-box">
    <h2 id="form-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Am Rewards</h2>
    <div class="subtitle">Ø§Ù†Ø¶Ù… ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù„Ù„Ø±Ø¨Ø­ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ£Ù…Ø§Ù†</div>
    <span class="gold-name">Am Rewards</span>
    <div id="msg" class="message" style="display:none;">
      <span class="site-name">Am Rewards</span>
      <span id="msg-text"></span>
    </div>
    
    <form id="login-form" class="form-view" autocomplete="on">
      <div class="form-row">
        <label for="login-email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <input type="email" id="login-email" placeholder="example@mail.com" autocomplete="username" required />
      </div>
      <div class="form-row">
        <label for="login-password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
        <input type="password" id="login-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="current-password" required />
        <button type="button" class="password-eye" onclick="togglePassword('login-password', this)" tabindex="-1" aria-label="Ø¹Ø±Ø¶ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
          <svg class="eye-open" viewBox="0 0 24 24" fill="none"><path d="M1.5 12C3.5 7 8 3.5 12 3.5C16 3.5 20.5 7 22.5 12C20.5 17 16 20.5 12 20.5C8 20.5 3.5 17 1.5 12Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="3.5" stroke="currentColor" stroke-width="2"/></svg>
          <svg class="eye-closed" viewBox="0 0 24 24" fill="none" style="display:none;"><path d="M2.93 2.93L21.07 21.07M22.5 12C20.5 17 16 20.5 12 20.5C10.6364 20.5 9.3242 20.2443 8.08 19.75M1.5 12C3.5 7 8 3.5 12 3.5C13.3636 3.5 14.6758 3.7557 15.92 4.25M17.169 7.765C16.3263 7.0253 15.2289 6.5 14 6.5C11.5147 6.5 9.5 8.51472 9.5 11C9.5 12.1648 9.94054 13.238 10.669 14.075" stroke="currentColor" stroke-width="2"/></svg>
        </button>
      </div>
      <button class="login-btn" id="login-btn" type="button" onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    </form>
    
    <form id="signup-form" class="form-view hidden-display" autocomplete="on">
      <div class="form-row">
        <label for="signup-name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
        <input type="text" id="signup-name" placeholder="Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„" required />
      </div>
      <div class="form-row">
        <label for="signup-phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ù…ØµØ± ÙÙ‚Ø·)</label>
        <input type="tel" id="signup-phone" placeholder="01123456789" required />
      </div>
      <div class="form-row">
        <label for="signup-email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <input type="email" id="signup-email" placeholder="example@mail.com" autocomplete="username" required />
      </div>
      <div class="form-row">
        <label for="signup-password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
        <input type="password" id="signup-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)" autocomplete="new-password" required />
        <button type="button" class="password-eye" onclick="togglePassword('signup-password', this)" tabindex="-1" aria-label="Ø¹Ø±Ø¶ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
          <svg class="eye-open" viewBox="0 0 24 24" fill="none"><path d="M1.5 12C3.5 7 8 3.5 12 3.5C16 3.5 20.5 7 22.5 12C20.5 17 16 20.5 12 20.5C8 20.5 3.5 17 1.5 12Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="3.5" stroke="currentColor" stroke-width="2"/></svg>
          <svg class="eye-closed" viewBox="0 0 24 24" fill="none" style="display:none;"><path d="M2.93 2.93L21.07 21.07M22.5 12C20.5 17 16 20.5 12 20.5C10.6364 20.5 9.3242 20.2443 8.08 19.75M1.5 12C3.5 7 8 3.5 12 3.5C13.3636 3.5 14.6758 3.7557 15.92 4.25M17.169 7.765C16.3263 7.0253 15.2289 6.5 14 6.5C11.5147 6.5 9.5 8.51472 9.5 11C9.5 12.1648 9.94054 13.238 10.669 14.075" stroke="currentColor" stroke-width="2"/></svg>
        </button>
      </div>
      
      <div class="form-row">
        <label for="signup-referral-code">ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <input type="text" id="signup-referral-code" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© Ù‡Ù†Ø§ (Ø¥Ù† ÙˆØ¬Ø¯)" />
        <div id="referral-check-msg" style="color: #FFD369; margin-top: 5px; font-size: 0.95rem; font-weight: 700; text-align: center;"></div> 
      </div>
      
      <div class="form-row" style="text-align: right; margin-top: 10px;">
          <label style="display:flex; align-items:center; gap: 8px; font-size: 0.95rem;">
              <input id="agree-policy" type="checkbox" required style="width: 20px; height: 20px; accent-color: #38bdf8; margin: 0;"/>
              Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ 
              <button type="button" class="switcher" style="text-decoration: underline; margin: 0; padding: 0; font-size: 1rem; color: #38bdf8;" onclick="openPolicyModal()">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</button>
          </label>
      </div>
      <button class="signup-btn" id="signup-btn" type="button" onclick="signup()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
    </form>
    
    <button class="switcher" id="switcher" type="button" onclick="toggleMode()">Ø£Ùˆ Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
    <div class="footer">Â© 2025 Am Rewards â€¢ ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div>
  </div>
  
  <div id="policyModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="policyTitle">
    <div class="modal-content">
      <h1 id="policyTitle">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h1>
      <ul style="list-style: none; padding: 0;">
        <li>ÙŠÙØ­Ø¸Ø± ØªÙ…Ø§Ù…Ù‹Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙŠ ÙˆØ³Ø§Ø¦Ù„ Ø£Ùˆ Ø£Ø¯ÙˆØ§Øª Ø¨Ø±Ù…Ø¬ÙŠØ© ØºÙŠØ± Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ù…Ø«Ù„ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªÙƒØ±Ø§Ø± Ø£Ùˆ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø§Ø·.</li>
        <li>ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø¨ Ø¨Ø¯Ù‚Ø©ØŒ ÙˆØ£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø²ÙŠÙØ© ØªØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠÙ‹Ø§.</li>
        <li>ÙŠØ³Ù…Ø­ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù„ÙƒÙ„ Ø´Ø®Øµ. Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ÙƒØ±Ø±Ø© ÙŠØªÙ… Ø­Ø¸Ø±Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¯ÙˆÙ† Ø¥Ù†Ø°Ø§Ø±.</li>
        <li>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¹Ù…Ù„ÙŠØªÙŠ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù‡Ùˆ <strong>200 Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ</strong>ØŒ ÙˆÙŠØªÙ… Ø®ØµÙ… <strong>10%</strong> Ø±Ø³ÙˆÙ… Ø¥Ø¯Ø§Ø±ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø­Ø¨.</li>
        <li>ÙŠÙÙ…Ù†Ø¹ Ø§Ø³ØªØºÙ„Ø§Ù„ Ø§Ù„Ø«ØºØ±Ø§Øª Ø£Ùˆ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ Ø¨Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ ÙˆÙŠØªÙ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ØªÙ„Ùƒ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø¨ØµØ±Ø§Ù…Ø©.</li>
        <li>ÙŠØ­Ù‚ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø±ÙˆØ· Ø£Ùˆ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ø¥Ø´Ø¹Ø§Ø± Ù…Ø³Ø¨Ù‚.</li>
        <li>Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ù„Ù…ÙˆÙ‚Ø¹ Am RewardsØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© Ø£Ø¹Ù„Ø§Ù‡.</li>
      </ul>
      <div class="note">
        <span>Ø³Ø¹Ø± Ø§Ù„Ù†Ù‚Ø·Ø© Ø­Ø§Ù„ÙŠØ§Ù‹: 0.07 Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ. ØªØ·Ø¨Ù‘Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ù‡Ø§Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†Ø¸Ø§Ù….</span>
      </div>
      <button class="modal-close" onclick="closePolicyModal()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
  </div>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getAuth,
      setPersistence,
      browserLocalPersistence,
      signInWithEmailAndPassword,
      createUserWithEmailAndPassword,
      updateProfile
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import {
      getFirestore,
      doc,
      setDoc,
      serverTimestamp,
      collection, 
      query, 
      where, 
      limit, 
      getDocs
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    
    // **1. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase**
    const firebaseConfig = {
      apiKey: "AIzaSyBfOJPkWbmcJ6s29bDNysr-H0Kx-Js3Gy0",
      authDomain: "am--rewards.firebaseapp.com",
      projectId: "am--rewards",
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    let isLogin = true;
    let referralCheckTimeout; 

    // **2. Ø¬Ù„Ø¨ Ø¹Ù†Ø§ØµØ± DOM**
    const msgEl = document.getElementById("msg");
    const msgTextEl = document.getElementById("msg-text");
    const formTitleEl = document.getElementById("form-title");
    const switcherBtn = document.getElementById("switcher");
    const loginForm = document.getElementById("login-form");
    const signupForm = document.getElementById("signup-form");
    
    const loginEmail = document.getElementById("login-email");
    const loginPassword = document.getElementById("login-password");
    const loginBtn = document.getElementById("login-btn");
    
    const signupName = document.getElementById("signup-name");
    const signupPhone = document.getElementById("signup-phone");
    const signupEmail = document.getElementById("signup-email");
    const signupPassword = document.getElementById("signup-password");
    const signupReferralCode = document.getElementById("signup-referral-code");
    const referralCheckMsg = document.getElementById("referral-check-msg");
    const signupBtn = document.getElementById("signup-btn");
    
    const policyModal = document.getElementById('policyModal');

    // **3. Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©**
    function showMessage(text, type="success") {
      msgTextEl.textContent = text;
      msgEl.className = "message " + type;
      msgEl.style.display = text ? "block" : "none";
      clearTimeout(window._msgTimeout);
      if (text) {
        window._msgTimeout = setTimeout(() => {
          if(type !== "error") msgEl.style.display = "none";
        }, type === "error" ? 10000 : 3000);
      }
    }

    function translateError(code) {
      switch(code) {
        case "auth/invalid-email": return "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­";
        case "auth/user-not-found":
        case "auth/wrong-password":
          return "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
        case "auth/email-already-in-use": return "Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø¨Ù„";
        case "auth/weak-password": return "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ù‹Ø§";
        case "auth/missing-password": return "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±";
        case "auth/too-many-requests": return "ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¤Ù‚ØªÙ‹Ø§ Ø¨Ø³Ø¨Ø¨ Ø¹Ø¯Ø© Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø®Ø§Ø·Ø¦Ø©ØŒ Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ù‹Ø§";
        default: return "Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø£Ùˆ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.";
      }
    }
    
    function validateEgyptianPhone(phone) {  
        return /^(010|011|012|015|01)[0-9]{8}$/.test(phone);  
    }  

    // **4. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ (Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© Ù„Ø³Ù„Ø§Ø³Ø© Ø§Ù„Ø­Ø±ÙƒØ©)**
    window.toggleMode = function () {
      const currentForm = isLogin ? loginForm : signupForm;
      const nextForm = isLogin ? signupForm : loginForm;
      const nextModeTitle = isLogin ? "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Am Rewards" : "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Am Rewards";
      const nextSwitcherText = isLogin ? "Ø£Ùˆ Ø³Ø¬Ù‘Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„" : "Ø£Ùˆ Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯";

      // 1. Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨ØªØ£Ø«ÙŠØ±
      currentForm.classList.add('fade-out');
      
      // 2. Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ ÙŠÙ†ØªÙ‡ÙŠ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¥Ø®ÙØ§Ø¡ Ø«Ù… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
      setTimeout(() => {
          // Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù„Ø­Ø¸ÙŠØ© (Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ­ØªØ§Ø¬ Ø§Ù†ØªÙ‚Ø§Ù„)
          currentForm.classList.add('hidden-display');
          currentForm.classList.remove('fade-out');
          
          nextForm.classList.remove('hidden-display');
          formTitleEl.textContent = nextModeTitle;
          switcherBtn.textContent = nextSwitcherText;
          showMessage("", "success");
          referralCheckMsg.textContent = "";
          clearTimeout(referralCheckTimeout); 

          // 3. Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨ØªØ£Ø«ÙŠØ± (ÙŠØ²Ø§Ù„ Ø§Ù„Ù€ fade-out Ù„ÙŠØ¸Ù‡Ø± Ø§Ù„Ù€ scale(1) ÙˆØ§Ù„Ù€ opacity(1))
          // Ù†Ø³ØªØ®Ø¯Ù… setTimeout Ø¢Ø®Ø± Ù„Ø¶Ù…Ø§Ù† Ø£Ù† Ø§Ù„Ù…ØªØµÙØ­ Ù‚Ø¯ Ø·Ø¨Ù‚ Ø¥Ø²Ø§Ù„Ø© hidden-display
          setTimeout(() => {
            nextForm.classList.remove('fade-out'); // Ù„Ù„ØªØ£ÙƒØ¯ ÙÙŠ Ø­Ø§Ù„ ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø£Ø®Ø±Ù‰
          }, 50);

          isLogin = !isLogin;

      }, 300); // 300ms ØªØªØ·Ø§Ø¨Ù‚ Ù…Ø¹ Ù…Ø¯Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ ÙÙŠ CSS

    };
    
    // **5. Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Modal**
    window.openPolicyModal = function() {
        policyModal.classList.add('open');
    }
    window.closePolicyModal = function() {
        policyModal.classList.remove('open');
    }

    // **6. Ø¯Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù…Ø¹ Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ø´Ø±Ù)**
    window.login = async function () {
      const email = loginEmail.value.trim();
      const password = loginPassword.value.trim();
      
      if (!email || !password) return showMessage("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", "error");
      
      loginBtn.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¯Ø®ÙˆÙ„...";
      loginBtn.disabled = true;
      
      // Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ø´Ø±Ù (Admin)
      const ADMIN_EMAIL = "admin@am-rewards.com";
      const ADMIN_PASSWORD = "Admin@2025"; 
      const ADMIN_PAGE = "admin.html"; 
      
      if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
          showMessage("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø´Ø±Ù Ø¨Ù†Ø¬Ø§Ø­!", "success");
          sessionStorage.setItem('isAdmin', 'true');
          setTimeout(()=> window.location.href = ADMIN_PAGE, 1200);
          return; 
      }
      // Ù†Ù‡Ø§ÙŠØ© Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ø´Ø±Ù

      try {
        await setPersistence(auth, browserLocalPersistence);
        const result = await signInWithEmailAndPassword(auth, email, password);
        const uid = result.user.uid;
        const ref = doc(db, "users", uid);
        
        await setDoc(ref, {
          uid: uid,
          email: email,
        }, { merge: true });
        
        showMessage("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!", "success");
        setTimeout(()=> window.location.href = "dashboard.html", 1200);
      } catch (error) {
        loginBtn.textContent = "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„";
        loginBtn.disabled = false;
        showMessage(translateError(error.code), "error");
      }
    };

    // **7. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„**
    function validateSignup(name, phone, email, password) {
        if (!name || !phone || !email || !password)
            return "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.";
        if (password.length < 6)
            return "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„";
        if (!validateEgyptianPhone(phone))
            return "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ØµØ±ÙŠ ØµØ­ÙŠØ­ (11 Ø±Ù‚Ù…)";
        return null;
    }

    // ğŸ†• 8. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© (Ù…Ù†ÙØµÙ„Ø©)
    async function checkReferralCode(code) {
        if (!code) {
            referralCheckMsg.textContent = "";
            return { referrerUid: null, isValid: true };
        }

        referralCheckMsg.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø©...";
        referralCheckMsg.style.color = '#FFD369';

        try {
            const usersRef = collection(db, "users");
            const q = query(usersRef, where("referralCode", "==", code), limit(1));
            const querySnapshot = await getDocs(q);

            if (!querySnapshot.empty) {
                referralCheckMsg.textContent = "ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© ØµØ­ÙŠØ­. Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ!";
                referralCheckMsg.style.color = '#22c55e';
                return { referrerUid: querySnapshot.docs[0].id, isValid: true };
            } else {
                referralCheckMsg.textContent = "ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯.";
                referralCheckMsg.style.color = '#f87171';
                return { referrerUid: null, isValid: false };
            }
        } catch (error) {
            console.error("Referral check failed:", error);
            referralCheckMsg.textContent = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯.";
            referralCheckMsg.style.color = '#f87171';
            return { referrerUid: null, isValid: false };
        }
    }
    
    // ğŸ†• 9. Ù…Ø³ØªÙ…Ø¹ Ø­Ø¯Ø« Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© (Debounced)
    signupReferralCode.addEventListener('input', () => {
        clearTimeout(referralCheckTimeout);
        const code = signupReferralCode.value.trim();
        if (code.length > 0) {
            referralCheckTimeout = setTimeout(() => {
                checkReferralCode(code);
            }, 600); // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙˆÙ‚Ù Ø¹Ù† Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ù€ 600 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
        } else {
            referralCheckMsg.textContent = "";
        }
    });


    // **10. Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø§Ù„Ù…Ø¹Ø¯Ù„Ø©)**
    window.signup = async function () {
        const name = signupName.value.trim();
        const phone = signupPhone.value.trim();
        const email = signupEmail.value.trim();
        const password = signupPassword.value.trim();
        const referralCode = signupReferralCode.value.trim();
        const agreed = document.getElementById('agree-policy').checked;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…Ø¨Ø¯Ø¦ÙŠ
        let validationError = validateSignup(name, phone, email, password);
        if (validationError) {
            return showMessage(validationError, "error");
        }
        if (!agreed) {
            return showMessage("ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.", "error");
        }
        
        signupBtn.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„...";
        signupBtn.disabled = true;
        referralCheckMsg.textContent = "";

        let referrerUid = null;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ù† ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø©
        if (referralCode) {
            const result = await checkReferralCode(referralCode);
            if (!result.isValid) {
                signupBtn.textContent = "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨";
                signupBtn.disabled = false;
                return showMessage("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø¥Ø­Ø§Ù„Ø© ØµØ­ÙŠØ­ Ø£Ùˆ ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºÙ‹Ø§.", "error");
            }
            referrerUid = result.referrerUid;
        }


        // 2. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Firebase Auth
        try {
            const userCredential = await createUserWithEmailAndPassword(auth, email, password);
            const user = userCredential.user;
            const uid = user.uid;
            
            await updateProfile(user, { displayName: name }); 

            // 3. Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ«ÙŠÙ‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Firestore
            const referralCodeForNewUser = uid.slice(0, 8).toUpperCase(); 

            const userData = {
                uid: uid,
                name: name,
                email: email,
                phone: phone,
                referralCode: referralCodeForNewUser,
                points: 0,
                referralPoints: 0,
                referralCount: 0,
                totalWithdrawn: 0,
                dailyWithdrawAmount: 0,
                isBanned: false,
                lastWithdrawlDate: "",
                joinedAt: serverTimestamp(),
                referredByUid: referrerUid || null, 
            };
            
            await setDoc(doc(db, "users", uid), userData);
            
            showMessage("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡...", "success");
            setTimeout(()=> window.location.href = "dashboard.html", 1200);

        } catch (error) {
            signupBtn.textContent = "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨";
            signupBtn.disabled = false;
            referralCheckMsg.textContent = "";
            showMessage(translateError(error.code), "error");
        }
    };

    // **11. Ø¯Ø§Ù„Ø© Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±**
    window.togglePassword = function(id, btn) {
      const input = document.getElementById(id);
      const openIcon = btn.querySelector('.eye-open');
      const closedIcon = btn.querySelector('.eye-closed');

      if (input.type === "password") {
        input.type = "text";
        openIcon.style.display = "none";
        closedIcon.style.display = "block";
      } else {
        input.type = "password";
        openIcon.style.display = "block";
        closedIcon.style.display = "none";
      }
    }

  </script>
</body>
  </html>
